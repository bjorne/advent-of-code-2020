import org.scalatest.flatspec._
import org.scalatest.matchers._

class Day20Test extends AnyFlatSpec with should.Matchers {
  "answer" should "give product of ids of corner tiles" in {
    val lines =
      """Tile 2311:
        |..##.#..#.
        |##..#.....
        |#...##..#.
        |####.#...#
        |##.##.###.
        |##...#.###
        |.#.#.#..##
        |..#....#..
        |###...#.#.
        |..###..###
        |
        |Tile 1951:
        |#.##...##.
        |#.####...#
        |.....#..##
        |#...######
        |.##.#....#
        |.###.#####
        |###.##.##.
        |.###....#.
        |..#.#..#.#
        |#...##.#..
        |
        |Tile 1171:
        |####...##.
        |#..##.#..#
        |##.#..#.#.
        |.###.####.
        |..###.####
        |.##....##.
        |.#...####.
        |#.##.####.
        |####..#...
        |.....##...
        |
        |Tile 1427:
        |###.##.#..
        |.#..#.##..
        |.#.##.#..#
        |#.#.#.##.#
        |....#...##
        |...##..##.
        |...#.#####
        |.#.####.#.
        |..#..###.#
        |..##.#..#.
        |
        |Tile 1489:
        |##.#.#....
        |..##...#..
        |.##..##...
        |..#...#...
        |#####...#.
        |#..#.#.#.#
        |...#.#.#..
        |##.#...##.
        |..##.##.##
        |###.##.#..
        |
        |Tile 2473:
        |#....####.
        |#..#.##...
        |#.##..#...
        |######.#.#
        |.#...#.#.#
        |.#########
        |.###.#..#.
        |########.#
        |##...##.#.
        |..###.#.#.
        |
        |Tile 2971:
        |..#.#....#
        |#...###...
        |#.#.###...
        |##.##..#..
        |.#####..##
        |.#..####.#
        |#..#.#..#.
        |..####.###
        |..#.#.###.
        |...#.#.#.#
        |
        |Tile 2729:
        |...#.#.#.#
        |####.#....
        |..#.#.....
        |....#..#.#
        |.##..##.#.
        |.#.####...
        |####.#.#..
        |##.####...
        |##..#.##..
        |#.##...##.
        |
        |Tile 3079:
        |#.#.#####.
        |.#..######
        |..#.......
        |######....
        |####.#..#.
        |.#...#.##.
        |#.#####.##
        |..#.###...
        |..#.......
        |..#.###...""".stripMargin.split("\n").toList
    Day20.answer(lines) shouldEqual 1951L * 3079L * 2971L * 1171L
  }
}
